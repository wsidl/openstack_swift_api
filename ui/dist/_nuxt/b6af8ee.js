(window.webpackJsonp=window.webpackJsonp||[]).push([[3,2,4],{216:function(e,t){var n=1..valueOf;e.exports=function(e){return n.call(e)}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(64),n(222);var o=["","K","M","G","T","E","Z"],r=1024;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isNaN(e)?"":e<r?"".concat(e.toFixed(t>0?2:0)," ").concat(o[t],"B"):c(e/r,t+1)}},218:function(e,t,n){"use strict";var o=n(9),r=n(2),c=n(94),l=n(15),f=n(12),d=n(164),h=n(93),v=n(163),m=n(5),_=n(65).f,w=n(24).f,j=n(14).f,N=n(216),y=n(219).trim,k="Number",x=r.Number,O=x.prototype,T=function(e){var t=v(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,n,o,r,c,l,f,code,d=v(e,"number");if(h(d))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2)if(43===(t=(d=y(d)).charCodeAt(0))||45===t){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+d}for(l=(c=d.slice(2)).length,f=0;f<l;f++)if((code=c.charCodeAt(f))<48||code>r)return NaN;return parseInt(c,o)}return+d};if(c(k,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var E,S=function(e){var t=arguments.length<1?0:x(T(e)),n=this;return n instanceof S&&m((function(){N(n)}))?d(Object(t),n,S):t},F=o?_(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;F.length>I;I++)f(x,E=F[I])&&!f(S,E)&&j(S,E,w(x,E));S.prototype=O,O.constructor=S,l(r,k,S)}},219:function(e,t,n){var o=n(17),r=n(10),c="["+n(220)+"]",l=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),d=function(e){return function(t){var n=r(o(t));return 1&e&&(n=n.replace(l,"")),2&e&&(n=n.replace(f,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},220:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},221:function(e,t,n){"use strict";n.r(t);var o=n(16),r=(n(218),n(13),n(64),{name:"TagManager",data:function(){return{new_tag:"",show_value:!1,new_value:"",tagNames:[],tagValues:[]}},props:{tags:Array,object_id:Number},watch:{new_tag:function(){var e=this;fetch("tags?search=".concat(this.new_tag)).then((function(e){return e.json()})).then((function(t){e.tagNames=t.content}))},new_value:function(){var e=this;fetch("tags/".concat(this.new_tag,"?search=").concat(this.new_value)).then((function(e){return e.json()})).then((function(t){e.tagValues=t.content}))}},methods:{toggleTag:function(){this.show_value=!this.show_value},saveTag:function(){this.$store.dispatch("setTag",{object_id:this.object_id,tagName:this.new_tag,tagValue:this.new_value}),this.new_tag="",this.new_value="",this.toggleTag()},deleteTag:function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];this.$store.dispatch("deleteTag",{object_id:this.object_id,tagName:n,tagValue:r})}}}),c=n(37),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-field",{attrs:{grouped:"","group-multiline":""}},e._l(e.tags,(function(meta){return n("div",{staticClass:"control"},[n("b-taglist",{attrs:{attached:""}},[n("b-tag",{attrs:{type:"is-primary"}},[e._v(e._s(meta[0]))]),e._v(" "),n("b-tag",{attrs:{type:"is-dark",closable:"","close-type":"is-primary"},on:{close:function(t){return e.deleteTag(meta)}}},[e._v(e._s(meta[1]))])],1)],1)})),0),e._v(" "),e.show_value?e._e():n("b-field",{attrs:{label:"New Tag","label-position":"on-border"}},[n("b-autocomplete",{attrs:{"icon-right-clickable":"","icon-right":e.new_tag.length>0?"arrow-right":"",data:e.tagNames},on:{"icon-right-click":e.toggleTag},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toggleTag.apply(null,arguments)}},model:{value:e.new_tag,callback:function(t){e.new_tag=t},expression:"new_tag"}})],1),e._v(" "),e.show_value?n("b-field",{attrs:{label:"Tag Value","label-position":"on-border"}},[n("b-autocomplete",{attrs:{"icon-right-clickable":"","icon-right":e.new_value.length>0?"arrow-right":"",data:e.tagValues},on:{"icon-right-click":e.saveTag},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveTag.apply(null,arguments)}},model:{value:e.new_value,callback:function(t){e.new_value=t},expression:"new_value"}})],1):e._e()],1)}),[],!1,null,"a3676ba2",null);t.default=component.exports},222:function(e,t,n){"use strict";var o=n(3),r=n(38),c=n(216),l=n(165),f=n(5),d=1..toFixed,h=Math.floor,v=function(e,t,n){return 0===t?n:t%2==1?v(e,t-1,n*e):v(e*e,t/2,n)},m=function(data,e,t){for(var n=-1,o=t;++n<6;)o+=e*data[n],data[n]=o%1e7,o=h(o/1e7)},_=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=h(n/e),n=n%e*1e7},w=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=String(data[e]);s=""===s?t:s+l.call("0",7-t.length)+t}return s};o({target:"Number",proto:!0,forced:d&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!f((function(){d.call({})}))},{toFixed:function(e){var t,n,o,f,d=c(this),h=r(e),data=[0,0,0,0,0,0],j="",N="0";if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return String(d);if(d<0&&(j="-",d=-d),d>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(d*v(2,69,1))-69)<0?d*v(2,-t,1):d/v(2,t,1),n*=4503599627370496,(t=52-t)>0){for(m(data,0,n),o=h;o>=7;)m(data,1e7,0),o-=7;for(m(data,v(10,o,1),0),o=t-1;o>=23;)_(data,1<<23),o-=23;_(data,1<<o),m(data,1,1),_(data,2),N=w(data)}else m(data,0,n),m(data,1<<-t,0),N=w(data)+l.call("0",h);return N=h>0?j+((f=N.length)<=h?"0."+l.call("0",h-f)+N:N.slice(0,f-h)+"."+N.slice(f-h)):j+N}})},223:function(e,t,n){var content=n(226);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(96).default)("026c1a72",content,!0,{sourceMap:!1})},224:function(e,t,n){"use strict";n.r(t);var o=n(8),r=(n(48),n(13),n(30),n(217)),c={name:"ObjectDetails",props:{object:Object},data:function(){return{name:"",nameError:!1,hasChanged:!1}},watch:{name:function(){var e=this;fetch("obj/name/".concat(this.name)).then((function(e){return e.json()})).then((function(e){return e.content})).then((function(content){return e.nameError=null!==content}))}},computed:{nameChanged:function(){return this.name!==this.object.name}},methods:{formatSize:function(e){return Object(r.a)(e)},saveName:function(){this.$store.dispatch("saveName",{object_id:this.object.id,name:this.name}),this.closeMe()},closeMe:function(){this.$emit("close-detail",this.object)}},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.name=e.object.name;case 1:case"end":return t.stop()}}),t)})))()}},l=n(37),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"media-content"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Name",type:e.nameChanged?e.nameError?"is-danger":"is-success":"","label-position":"on-border"}},[n("b-input",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),n("b-notification",{attrs:{type:"is-primary",closable:!1}},[n("b",[e._v("Metadata")]),e._v(" "),n("ul",[n("li",[n("b",[e._v("Size: ")]),e._v(e._s(this.formatSize(e.object.size)))]),e._v(" "),n("li",[n("b",[e._v("Last Updated: ")]),e._v(e._s(e.object.updated))])])])],1),e._v(" "),n("div",{staticClass:"column"},[n("TagManager",{attrs:{object_id:e.object.id,tags:e.object.metadata}})],1)]),e._v(" "),n("footer",[n("b-button",{attrs:{type:"is-primary",disabled:!e.nameChanged||e.nameError},on:{click:e.saveName}},[e._v("Save")]),e._v(" "),n("b-button",{attrs:{type:"is-light"},on:{click:e.closeMe}},[e._v("Close")])],1)])}),[],!1,null,"57abbdc2",null);t.default=component.exports;installComponents(component,{TagManager:n(221).default})},225:function(e,t,n){"use strict";n(223)},226:function(e,t,n){var o=n(95)(!1);o.push([e.i,".even[data-v-76281b46]{background-color:#ddd}.odd[data-v-76281b46]{background-color:#fff}",""]),e.exports=o},227:function(e,t,n){"use strict";n.r(t);n(50),n(166),n(121),n(49),n(39),n(66),n(67),n(30);var o=n(217),r={data:function(){return{showNewObject:!1,newFile:"",extension:"",newName:"",searchTerm:""}},watch:{newFile:function(){var e=this.newFile.split("\\");e=e[e.length-1].split("."),this.extension=e[e.length-1],this.newName=e.slice(0,e.length-1).join(".")}},computed:{objects:function(){var e=this;return 0===this.searchTerm.length?this.$store.state.objects:this.$store.state.objects.filter((function(t){return t.name.includes(e.searchTerm)}))}},methods:{formatSize:function(e){return Object(o.a)(e)},closeDetail:function(object){this.$refs.objectTable.closeDetailRow(object)},deleteObject:function(e){this.$store.dispatch("deleteObject",{object_id:e})},saveObject:function(){this.$store.dispatch("newObject",{fileData:document.querySelector('input[type="file"]').files[0],name:this.newName,tags:[["format",this.extension]]}),this.newName="",this.newFile="",this.extension="",this.showNewObject=!1},downloadObject:function(e){window.open("obj/".concat(e,"/download"),"_self"),console.log(e)}},mounted:function(){this.$store.dispatch("getObjects")}},c=(n(225),n(37)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("nav",{staticClass:"level container"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"level-item"},[n("b-field",{attrs:{label:"Search","label-position":"on-border"}},[n("b-input",{attrs:{name:"search",expanded:""},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1)],1)]),e._v(" "),n("div",{staticClass:"level-right"},[n("div",{staticClass:"level-item"},[n("b-button",{attrs:{type:"is-primary"},on:{click:function(t){e.showNewObject=!0}}},[e._v("New")])],1)]),e._v(" "),n("b-modal",{model:{value:e.showNewObject,callback:function(t){e.showNewObject=t},expression:"showNewObject"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("b-field",{attrs:{label:"File to attach"}},[n("b-input",{attrs:{type:"file",placeholder:"Attach local file"},model:{value:e.newFile,callback:function(t){e.newFile=t},expression:"newFile"}})],1),e._v(" "),n("b-field",{attrs:{label:"Name"}},[n("b-input",{attrs:{type:"input"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),e._v(" "),n("b-field",{attrs:{grouped:"","group-multiline":""}},[n("b-button",{attrs:{type:"is-primary"},on:{click:e.saveObject}},[e._v("Save")])],1)],1)])])],1),e._v(" "),n("b-table",{ref:"objectTable",attrs:{striped:"",data:e.objects,detailed:"","detail-transition":"fade"},scopedSlots:e._u([{key:"detail",fn:function(t){return[n("article",{staticClass:"media"},[n("ObjectDetails",{attrs:{object:t.row},on:{"close-detail":e.closeDetail}})],1)]}}])},[n("b-table-column",{attrs:{id:"id",label:"ID",width:"40",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(t.row.id)+"\n    ")]}}])}),e._v(" "),n("b-table-column",{attrs:{id:"name",field:"name",label:"Name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[[n("a",{on:{click:function(e){return t.toggleDetails(t.row)}}},[e._v("\n          "+e._s(t.row.name)+"\n        ")])]]}}])}),e._v(" "),n("b-table-column",{attrs:{id:"size",field:"size",label:"Size",width:"120",numeric:"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e.formatSize(t.row.size))+"\n    ")]}}])}),e._v(" "),n("b-table-column",{attrs:{id:"tags",label:"Tags",width:"90",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(t.row.metadata.length)+" tags\n    ")]}}])}),e._v(" "),n("b-table-column",{attrs:{label:"Actions",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("field",[n("b-button",{attrs:{type:"is-primary is-inverted",size:"is-small"},on:{click:function(n){return e.downloadObject(t.row.id)}}},[n("b-icon",{attrs:{icon:"download"}})],1),e._v(" "),n("b-button",{attrs:{type:"is-danger is-inverted",size:"is-small"},on:{click:function(n){return e.deleteObject(t.row.id)}}},[n("b-icon",{attrs:{icon:"delete"}})],1)],1)]}}])})],1)],1)}),[],!1,null,"76281b46",null);t.default=component.exports;installComponents(component,{ObjectDetails:n(224).default})}}]);